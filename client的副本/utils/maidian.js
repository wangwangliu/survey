/*! feedback@hucheng */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MaiDian=t():e.MaiDian=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),o=function(){function e(){}return e.bridgeReport=function(e){return r.default.bridgeReport(e)},e.h5Report=function(e){return r.default.normalReport(e)},e}();t.default=o},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.__esModule=!0,t.default=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),a=n(4),c=n(5),u=(0,c.uuidv4)(),s=function(){function e(){}return e.init=function(e){if(!e)return void console.error("config 不能为空");this.JSBRIDGE_TOPIC=e.bridgeTopic||this.JSBRIDGE_TOPIC,this.NORMAL_TOPIC=e.normalTopic||this.NORMAL_TOPIC,this.TEST_TOPIC=e.testTopic||this.TEST_TOPIC,!1===e.testEnv&&(this.IS_TEST_ENABLED=!1)},e.bridgeReport=function(e){try{if(!(e=r({},e))||"object"!=typeof e)return console.error("bridgeReport： data必须是object"),{code:-1,msg:"data必须是object"};for(var t=this.MUST_HAVE_FIELDS,n=Array.isArray(t),o=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(o>=t.length)break;i=t[o++]}else{if(o=t.next(),o.done)break;i=o.value}var a=i;if(!(a in e))return{code:-1,msg:"参数"+a+"缺失"}}return this.reportByJSBridge(e)}catch(t){return this.reportSdkError(t,e),{code:-1,msg:t}}},e.normalReport=function(e){e=r({},e);try{if(!e||"object"!=typeof e)return console.error("normalReport:  data必须是object"),{code:-1,msg:"data必须是object"};for(var t=this.MUST_HAVE_FIELDS,n=Array.isArray(t),o=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(o>=t.length)break;i=t[o++]}else{if(o=t.next(),o.done)break;i=o.value}var a=i;if(!(a in e&&e[a]))return{code:-1,msg:"参数"+a+"缺失"}}var c=e.topic||this.NORMAL_TOPIC;return c?(e.topic=c,this.reportByImage(e)):(console.error("normalReport: 请传输topic字段 "),{code:-1,msg:"请传输topic字段"})}catch(t){return this.reportSdkError(t,e),{code:-1,msg:t}}},e.mergeDefaultData=function(e){var t={event_time:(new Date).getTime(),log_id:(0,a.string)(32),protocol_version:"2.0",os:"h5"};return t=function(e,t){return Object.keys(t).forEach(function(n){t[n]&&(e[n]=t[n])}),e}(t,e),t.extend_info&&"string"!=typeof t.extend_info&&(t.extend_info=JSON.stringify(t.extend_info)),t},e._isBridge=function(e){return i.default.hasNativeMethod&&i.default.hasNativeMethod(e)},e.reportSdkError=function(e,t){console.log(e.toString());var n=e.toString(),r="http://log.1sapp.com/a.gif?cmd=10086&err="+n+"&data="+JSON.stringify(t)+"&date="+(new Date).getTime();(0,c.report)(r)},e.checkReportData=function(){},e.reportByJSBridge=function(e){e=r({},e);var t=this.mergeDefaultData(e);try{return this._isBridge("datatracker.track")?(i.default.call("datatracker.track",t),{code:0,msg:"上报成功"}):{code:-1,msg:"无此桥接"}}catch(e){return{code:-1,msg:"桥接调用失败"}}},e.reportByImage=function(e){e.device_uuid||(e.device_uuid=u),e.platform||(e.platform="h5"),e.event_time||(e.event_time=(new Date).getTime()),e.log_id||(e.log_id=(0,c.uuidv4)()),e.protocol_version||(e.protocol_version="3.0"),e=this.mergeDefaultData(e);var t=[];try{var n=e.url;delete e.url;var r=function(e){return Object.keys(e).forEach(function(n){"[object Object]"==Object.prototype.toString.call(e[n])&&(e[n]=JSON.stringify(e[n])),t.push(n+"="+encodeURIComponent(e[n]))}),t.join("&")}(e),o=n+"?"+r;return(0,c.report)(o),{code:0,msg:"上报成功"}}catch(e){return{code:-1,msg:e}}},e}();o(s,"JSBRIDGE_TOPIC",""),o(s,"NORMAL_TOPIC",""),o(s,"TEST_TOPIC",""),o(s,"IS_TEST_ENABLED",!0),o(s,"MUST_HAVE_FIELDS",["page","event","topic","url","app"]);var d=s;t.default=d},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={default:void 0,call:function(e,t,n){var r="";"function"==typeof t&&(n=t,t={});var o={data:void 0===t?null:t};if("function"==typeof n){var i="dscb"+window.dscb++;window[i]=n,o._dscbstub=i}return o=JSON.stringify(o),window._dsbridge&&window._dsbridge.call?r=_dsbridge.call(e,o):(window._dswk||-1!=navigator.userAgent.indexOf("_dsbridge"))&&(r=prompt("_dsbridge="+e,o)),JSON.parse(r||"{}").data},register:function(e,t,n){var o=n?window._dsaf:window._dsf;window._dsInit||(window._dsInit=!0,setTimeout(function(){r.call("_dsb.dsinit")},0)),"object"==typeof t?o._obs[e]=t:o[e]=t},registerAsyn:function(e,t){this.register(e,t,!0)},hasNativeMethod:function(e,t){return this.call("_dsb.hasNativeMethod",{name:e,type:t||"all"})},disableJavascriptDialogBlock:function(e){this.call("_dsb.disableJavascriptDialogBlock",{disable:!1!==e})}};!function(){if(!window._dsf){var e={_dsf:{_obs:{}},_dsaf:{_obs:{}},dscb:0,dsBridge:r,close:function(){r.call("_dsb.closePage")},_handleMessageFromNative:function(e){var t=JSON.parse(e.data),n={id:e.callbackId,complete:!0},o=this._dsf[e.method],i=this._dsaf[e.method],a=function(e,o){n.data=e.apply(o,t),r.call("_dsb.returnValue",n)},c=function(e,o){t.push(function(e,t){n.data=e,n.complete=!1!==t,r.call("_dsb.returnValue",n)}),e.apply(o,t)};if(o)a(o,this._dsf);else if(i)c(i,this._dsaf);else{var u=e.method.split(".");if(u.length<2)return;var s=u.pop(),d=u.join("."),f=this._dsf._obs,l=f[d]||{},p=l[s];if(p&&"function"==typeof p)return void a(p,l);if(f=this._dsaf._obs,l=f[d]||{},(p=l[s])&&"function"==typeof p)return void c(p,l)}}};for(var t in e)window[t]=e[t];r.register("_hasJavascriptMethod",function(e,t){var n=e.split(".");if(n.length<2)return!(!_dsf[n]&&!_dsaf[n]);var e=n.pop(),r=n.join("."),o=_dsf._obs[r]||_dsaf._obs[r];return o&&!!o[e]})}}();var o=r;t.default=o},function(e,t,n){"use strict";function r(e){return o(0,e)}function o(e,t){return e=e||0,t=t||2147483647,0|e+Math.random()*(t-e)}function i(e){return d(e,0,10)}function a(e){return d(e,10,36)}function c(e){return d(e,36,62)}function u(e){return d(e,10,62)}function s(e){return d(e,0,62)}function d(e,t,n){var r,o=0,i=[],a=n-t;for(e=e||10;0!=e--;)r=Math.floor(Math.random()*a),o=f[r+t],i[e]=o;return i.join("")}t.__esModule=!0,t.next=r,t.range=o,t.numeric=i,t.upper=a,t.lower=c,t.string=u,t.alphabetic=s,t.random=d;var f=["1","2","3","4","5","6","7","8","9","0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_","`","{","|","}","~"]},function(e,t,n){"use strict";function r(){return navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Linux")>-1?"Android":navigator.userAgent.indexOf("iPhone")>-1?"iOS":navigator.userAgent.indexOf("Windows Phone")>-1?"WP":"Others"}function o(){var e="1.0",t=navigator.userAgent,n=t.indexOf("Android")>-1||t.indexOf("Linux")>-1,r=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return n&&(e=(navigator.userAgent.split(";")[1].match(/\d+\.\d+/g)||[])[0]),r&&(e=(navigator.userAgent.split(";")[1].match(/(\d+)_(\d+)_?(\d+)?/)||[])[0]),e}function i(){var e="未知";return window.screen&&window.screen.orientation&&window.screen.orientation.angle&&(180!=window.screen.orientation.angle&&0!=window.screen.orientation.angle||(e="竖屏"),90!=window.screen.orientation.angle&&-90!=window.screen.orientation.angle||(e="横屏")),e}function a(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/(ipad)/i),n="iphone os"==e.match(/iphone os/i),r="midp"==e.match(/midp/i),o="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),i="ucweb"==e.match(/ucweb/i),a="android"==e.match(/android/i),c="windows ce"==e.match(/windows ce/i),u="windows mobile"==e.match(/windows mobile/i);return t||n||r||o||i||a||c||u?n||r||o||i||a||c||u?"Phone":t?"ipad":"未知":"PC"}function c(){var e="未知";if(navigator.connection&&navigator.connection.effectiveType)switch(navigator.connection.effectiveType){case"wifi":e="wifi";break;case"4g":e="4G";break;case"2g":e="2G";break;case"3g":e="3G";break;case"ethernet":e="以太网";break;case"default":e="未知"}return e}function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function s(){return"loadRuntime"in window&&"function"==typeof window.loadRuntime}function d(e){null==e&&""===e||(s()?window.XMLHttpRequest&&(xmlhttp=new XMLHttpRequest,xmlhttp.open("GET",e,!1),xmlhttp.send(null)):(new Image).src=e)}function f(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=location.origin;t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="tencent",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17);var r=e.toDataURL().replace("data:image/png;base64,",""),o=atob(r);return function(e){var t,n,r,o="";for(e+="",t=0,n=e.length;t<n;t++)r=e.charCodeAt(t).toString(16),o+=r.length<2?"0"+r:r;return o}(o.slice(-16,-12))}t.__esModule=!0,t.getOS=r,t.getOSVersion=o,t.getOrientationStatu=i,t.getDeviceType=a,t.getNetWork=c,t.uuidv4=u,t.isInCocos=s,t.report=d,t.createFingerprint=f}])});